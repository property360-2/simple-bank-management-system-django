{% extends 'base.html' %}
{% block title %}Notifications - Settings{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-3">
        <div class="list-group">
            <a href="{% url 'settings:preferences' %}" class="list-group-item list-group-item-action">
                <i class="fas fa-palette"></i> Preferences
            </a>
            <a href="{% url 'settings:profile_edit' %}" class="list-group-item list-group-item-action">
                <i class="fas fa-user"></i> Edit Profile
            </a>
            <a href="{% url 'settings:profile_edit_otp' %}" class="list-group-item list-group-item-action">
                <i class="fas fa-lock"></i> Profile with OTP
            </a>
            <a href="{% url 'settings:change_password' %}" class="list-group-item list-group-item-action">
                <i class="fas fa-key"></i> Change Password
            </a>
            <a href="{% url 'settings:security' %}" class="list-group-item list-group-item-action">
                <i class="fas fa-shield-alt"></i> Security & Privacy
            </a>
            <a href="{% url 'settings:account_summary' %}" class="list-group-item list-group-item-action">
                <i class="fas fa-credit-card"></i> Account Summary
            </a>
            <a href="{% url 'settings:notifications' %}" class="list-group-item list-group-item-action active">
                <i class="fas fa-bell"></i> Notifications
            </a>
        </div>
    </div>

    <div class="col-md-9">
        <div class="card">
            <div class="card-header bg-light">
                <h3 class="card-title mb-0"><i class="fas fa-bell"></i> Notification Preferences</h3>
            </div>
            <div class="card-body">
                <form method="POST" class="needs-validation">
                    {% csrf_token %}

                    <h5 class="mb-4"><i class="fas fa-envelope"></i> Communication Methods</h5>

                    <div class="mb-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="notifications_email" id="notifications_email" {% if form.notifications_email.value %}checked{% endif %}>
                            <label class="form-check-label" for="notifications_email">
                                <strong>Email Notifications</strong>
                            </label>
                            <p class="text-muted ms-4">Receive transaction alerts, statements, and important updates via email.</p>
                        </div>
                    </div>

                    <div class="mb-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="notifications_sms" id="notifications_sms" {% if form.notifications_sms.value %}checked{% endif %}>
                            <label class="form-check-label" for="notifications_sms">
                                <strong>SMS Notifications</strong>
                            </label>
                            <p class="text-muted ms-4">Receive urgent alerts and OTP codes via SMS to your phone.</p>
                        </div>
                    </div>

                    <hr class="my-4">

                    <h5 class="mb-4"><i class="fas fa-cog"></i> Notification Types</h5>

                    <div class="mb-4">
                        <div class="card border-info">
                            <div class="card-body">
                                <h6 class="card-title"><i class="fas fa-exchange-alt"></i> Transaction Alerts</h6>
                                <p class="card-text small mb-0">Get notified for deposits, withdrawals, and transfers above a certain amount.</p>
                            </div>
                        </div>
                    </div>

                    <div class="mb-4">
                        <div class="card border-success">
                            <div class="card-body">
                                <h6 class="card-title"><i class="fas fa-file-invoice-dollar"></i> Bill Reminders</h6>
                                <p class="card-text small mb-0">Receive reminders for upcoming bills and due dates.</p>
                            </div>
                        </div>
                    </div>

                    <div class="mb-4">
                        <div class="card border-warning">
                            <div class="card-body">
                                <h6 class="card-title"><i class="fas fa-credit-card"></i> Loan Updates</h6>
                                <p class="card-text small mb-0">Get updates on loan applications, approvals, and payment schedules.</p>
                            </div>
                        </div>
                    </div>

                    <div class="mb-4">
                        <div class="card border-danger">
                            <div class="card-body">
                                <h6 class="card-title"><i class="fas fa-shield-alt"></i> Security Alerts</h6>
                                <p class="card-text small mb-0">Important notifications about login attempts and account changes.</p>
                            </div>
                        </div>
                    </div>

                    <hr class="my-4">

                    <h5 class="mb-4"><i class="fas fa-desktop"></i> Display Preferences</h5>

                    <div class="mb-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="show_balance" id="show_balance" {% if form.show_balance.value %}checked{% endif %}>
                            <label class="form-check-label" for="show_balance">
                                <strong>Show Balance on Dashboard</strong>
                            </label>
                            <p class="text-muted ms-4">Display your account balance prominently on the dashboard.</p>
                        </div>
                    </div>

                    <div class="mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="fas fa-save"></i> Save Notification Preferences
                        </button>
                        <a href="{% url 'settings:dashboard' %}" class="btn btn-secondary btn-lg">
                            <i class="fas fa-times"></i> Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
