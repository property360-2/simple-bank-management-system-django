<div class="table-responsive">
    <table class="table table-dark mb-0">
        <thead>
            <tr>
                <th>Transaction</th>
                <th>User</th>
                <th>Amount</th>
                <th>Risk Level</th>
                <th>Flags</th>
                <th>Status</th>
                <th>Date</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for fraud in frauds %}
            <tr>
                <td class="text-light">
                    <strong>#{{ fraud.transaction.id }}</strong>
                    <br>
                    <small class="text-info">{{ fraud.transaction.transaction_type }}</small>
                </td>
                <td class="text-light">
                    <strong>{{ fraud.transaction.from_account.user.username }}</strong>
                    <br>
                    <small class="text-info">{{ fraud.transaction.from_account.account_number }}</small>
                </td>
                <td class="text-light">
                    <strong>${{ fraud.transaction.amount|floatformat:2 }}</strong>
                </td>
                <td class="text-light">
                    <span class="badge bg-{% if fraud.risk_level == 'high' %}danger{% elif fraud.risk_level == 'medium' %}warning{% else %}success{% endif %}">
                        {{ fraud.get_risk_level_display }}
                    </span>
                </td>
                <td class="text-light">
                    <div class="d-flex flex-wrap gap-1">
                        {% if fraud.unusual_amount %}<span class="badge badge-pill bg-danger-subtle text-danger-emphasis">Amount</span>{% endif %}
                        {% if fraud.rapid_transactions %}<span class="badge badge-pill bg-danger-subtle text-danger-emphasis">Rapid</span>{% endif %}
                        {% if fraud.unusual_time %}<span class="badge badge-pill bg-danger-subtle text-danger-emphasis">Time</span>{% endif %}
                        {% if fraud.new_recipient %}<span class="badge badge-pill bg-danger-subtle text-danger-emphasis">New Recipient</span>{% endif %}
                        {% if fraud.geographic_anomaly %}<span class="badge badge-pill bg-danger-subtle text-danger-emphasis">Location</span>{% endif %}
                    </div>
                </td>
                <td class="text-light">
                    <span class="badge bg-{% if fraud.status == 'pending' %}warning{% elif fraud.status == 'reviewed' %}info{% elif fraud.status == 'approved' %}success{% else %}danger{% endif %}">
                        {{ fraud.get_status_display }}
                    </span>
                </td>
                <td class="text-light">
                    <small>{{ fraud.detected_at|date:"M d, Y H:i" }}</small>
                </td>
                <td class="text-light">
                    <a href="{% url 'admin_panel:fraud_detection_detail' fraud.pk %}" class="btn btn-sm btn-outline-primary">
                        <i class="fas fa-eye"></i> Review
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="8" class="text-center py-4 text-light">
                    <i class="fas fa-check-circle fa-2x text-success mb-2"></i>
                    <p class="text-info">No fraud cases found</p>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
